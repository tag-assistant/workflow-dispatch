# Workflow Dispatch UI Configuration
# https://github.com/tag-assistant/workflow-dispatch#configuration

workflows:
  deploy-example.yml:
    title: "ğŸš€ Deploy Application"
    description: "Deploy the application to any environment with full control over the process"

    inputs:
      environment:
        label: "ğŸŒ Environment"
        description: "Where should this be deployed?"

      version:
        label: "ğŸ“¦ Version"
        description: "Semver tag or 'latest' for the newest build"
        placeholder: "e.g. v1.2.3 or latest"

      dry_run:
        label: "ğŸ§ª Dry Run"
        description: "Simulate without making real changes"

      notify_slack:
        label: "ğŸ“¢ Slack Notification"
        description: "Post to #deployments channel"

      rollback_on_failure:
        label: "ğŸ”„ Auto-Rollback"
        description: "Revert if post-deploy health checks fail"

      notes:
        label: "ğŸ“ Release Notes"
        description: "What changed? (shown in changelog)"
        placeholder: "Fixed auth bug, updated dependencies..."

      # Dynamic inputs â€” populated from GitHub API
      target_branch:
        type: select
        label: "ğŸŒ¿ Target Branch"
        description: "Branch to deploy from"
        optionsFrom:
          source: branches

      release_tag:
        type: select
        label: "ğŸ·ï¸ Release"
        description: "Pick a specific release"
        optionsFrom:
          source: releases

    groups:
      - title: "ğŸ¯ Target"
        description: "Where and what to deploy"
        inputs: [environment, version, target_branch, release_tag]
      - title: "âš™ï¸ Options"
        description: "Deployment behavior"
        inputs: [dry_run, notify_slack, rollback_on_failure]
      - title: "ğŸ“‹ Details"
        inputs: [notes]
